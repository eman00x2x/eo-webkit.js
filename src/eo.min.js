!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.eo=e()}(function(){"use strict";let e,t,r=({domain:r,cdn:a}={})=>{e=r,t=a},a=()=>{let e=document.querySelector('meta[name="inDevelopment"]');return 1==e.content},n=function(){let e=document.querySelector('meta[name="csrf-token"]');if(null===e){let t='CSRF Token not found in meta tags! <meta name="csrf-token" content="{{ csrf_token() }}">';throw E.error(t),Error(t)}return e.content}(),l=e=>{window.location=e},i=e=>{let t=new Date(0);return t.setUTCSeconds(e),t.toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},o=(e,t)=>e.length<=t?e:`${e.slice(0,t-3)}...`,s=(e,t=0)=>{if(0===e)return"0 Bytes";let r=Math.floor(Math.log2(e)/Math.log2(1e3)),a=(e/Math.pow(1e3,r)).toFixed(t);return`${a} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}`},d=()=>"00000000-0000-0000-0000-000000000000".replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)),c=e=>{let t=new Uint8Array(e-3);return window.crypto.getRandomValues(t),Array.from(t,e=>("0"+(255&e).toString(16)).slice(-2)).join("")},u=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,m=e=>Math.abs(Number(e))>=1e9?Math.abs(Number(e))/1e9+"B":Math.abs(Number(e))>=1e6?Math.abs(Number(e))/1e6+"M":Math.abs(Number(e))>=1e3?Math.abs(Number(e))/1e3+"K":Math.abs(Number(e)),p=e=>e instanceof FormData?Object.fromEntries(e.entries()):Array.isArray(e)&&e.every(e=>"object"==typeof e&&null!==e&&"name"in e&&"value"in e)?e.reduce((e,t)=>(e[t.name]=t.value,e),{}):"object"==typeof e&&null!==e?Object.keys(e).reduce((t,r)=>(t[r]=e[r],t),{}):e,f=e=>{let t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/),r=t&&11===t[7].length?t[7]:null;if(r)return{id:r,thumbnail:{default:`http://img.youtube.com/vi/${r}/default.jpg`,hq:`http://img.youtube.com/vi/${r}/hqdefault.jpg`,mq:`http://img.youtube.com/vi/${r}/mqdefault.jpg`,sd:`http://img.youtube.com/vi/${r}/sddefault.jpg`,maxres:`http://img.youtube.com/vi/${r}/maxresdefault.jpg`},url:`https://www.youtube.com/watch?v=${r}`,embed:`https://www.youtube.com/embed/${r}`};E.error("Invalid YouTube URL")},g=(e,t={},r=[])=>{let a=document.createElement(e);for(let[n,l]of Object.entries(t))a.setAttribute(n,l);return r.forEach(e=>a.appendChild(e)),a},b=(e,t)=>g("input",{type:"hidden",name:e,value:t}),h=function(e,t){let r=document.querySelectorAll(e),n=document.querySelector(t);if(0===r.length||null===n){1==a()&&console.log("Element not found");return}let l=r[0];n.innerHTML=l.innerHTML,l.innerHTML=""},y=(e,t,{beforeSend:r,onSuccess:a,onError:n,onComplete:l,processData:i=!0,contentType:o="application/x-www-form-urlencoded; charset=UTF-8"}={})=>{r&&r();let s={"X-Requested-With":"XMLHttpRequest"},d=t;i&&(t instanceof FormData||Array.isArray(t)||"object"==typeof t&&null!==t)&&(d=p(t),o.includes("application/json")?(d=JSON.stringify(d),s["Content-Type"]=o):(s["Content-Type"]=o,d=Object.keys(d).map(e=>{let t=d[e];return Array.isArray(t)?t.map(t=>`${encodeURIComponent(e+"[]")}=${encodeURIComponent(t)}`).join("&"):`${encodeURIComponent(e)}=${encodeURIComponent(t)}`}).join("&"))),fetch(e,{method:"POST",headers:s,body:d}).then(async e=>{if(!e.ok){let t=await e.text();throw Error(`HTTP error! Status: ${e.status}, Message: ${t}`)}return e.text().then(e=>{try{let t=JSON.parse(e);return{data:t,type:"json"}}catch(r){return console.log(r),{data:e,type:"html"}}})}).then(e=>{(e.type,a)?.(e.data)}).catch(e=>{n?.(null,"error",e),console.error("Fetch Error:",e)}).finally(l)},v=async(e,{beforeRequest:t,onSuccess:r,onError:a}={})=>{if(t?.()!==!1)try{let n=await fetch(e);if(!n.ok){let l=await n.text();throw Error(`HTTP error! Status: ${n.status}, Message: ${l}`)}let i=n.headers.get("Content-Type"),o;return i&&i.includes("application/json")?o=await n.json():(i&&i.includes("text/html"),o=await n.text()),r?.(o),T.enable(),o}catch(s){a?.(null,"error",s),E.error(s),T.enable(),console.error("Fetch Error:",s)}},$=function(){let e={userAgent:null,geo:null,browser:null},t=async()=>{try{let t=await v("https://ipinfo.io/json");e.geo=t,localStorage.setItem("EOclient",JSON.stringify(e))}catch(r){console.error("Error getting geo info:",r)}},r=()=>{let t=navigator.userAgent.includes("Opera")||navigator.userAgent.includes("Opr"),r=navigator.userAgent.includes("Edg"),a=navigator.userAgent.includes("EdgA"),n=/MSIE|Trident/.test(navigator.userAgent),l=navigator.userAgent.indexOf("Chrome"),i=navigator.userAgent.includes("Safari"),o=navigator.userAgent.includes("Firefox"),s=(l||t)&&!!window.CSS;e.browser=({opera:"Opera",firefox:"Mozilla Firefox",safari:"Apple Safari",ie:"Microsoft IE",edge:"Microsoft Edge",chrome:"Google Chrome",blink:"Blink"})[t?"opera":r?"edge":a?"edge":n?"ie":l?"chrome":i?"safari":o?"firefox":s?"blink":"Unknown Browser"]};return(()=>{let a=localStorage.getItem("EOclient");if(null===a)e.userAgent=navigator.userAgent,t(),r();else{let{userAgent:n,geo:l,browser:i}=JSON.parse(a);e.userAgent=n,e.geo=l,e.browser=i}})(),e}(),w=function(){let e={start:[1e3,1e4],connect:!0,step:1e3,range:{min:1e3,max:1e4}},t=(t,a={})=>{let n=document.createElement("div");if(n.classList.add("range"),document.querySelector(t).appendChild(n),null===n)return;let l={...e,...a};noUiSlider.create(n,l);let i=document.createElement("div");i.classList.add("slider-non-linear-step-value"),n.parentNode.insertBefore(i,n.nextSibling),r(t,n)},r=(e,t)=>{let r=document.querySelector(e).dataset.inputFromId||"sliderFrom",a=document.querySelector(e).dataset.inputToId||"sliderTo",n=g("input",{type:"hidden",name:r,id:r,value:""}),l=g("input",{type:"hidden",name:a,id:a,value:""});document.querySelector(e).prepend(n),document.querySelector(e).prepend(l),t.noUiSlider.on("update",e=>{let t=document.querySelector(".slider-non-linear-step-value");t.innerHTML=`<span class="text-muted">Range:</span> P${m(e[0])} - P${m(e[1])}`,document.getElementById(r).value=e[0],document.getElementById(a).value=e[1]})},a=()=>{let r=".slider-display",a=document.querySelector(r);if(null===a)return;let n=Number(document.querySelector(r).dataset.min)||1e3,l=Number(document.querySelector(r).dataset.max)||1e4,i=Number(document.querySelector(r).dataset.step)||1e3;e.start=[n,l],e.range.min=n,e.range.max=l,e.step=i,e.format=wNumb({decimals:2}),t(r,e)};return{_initAfterLoad(){a()},_initBeforeLoad(){},create:t}}(),_={create:w.create},S=function(){let e=()=>{document.addEventListener("click",function(e){if(e.target.closest(".btn-add-video")){let t=document.getElementById("youtubeUrl"),r=document.querySelector(".btn-add-video .spinner-border"),a=document.querySelector(".btn-add-video .btn-text"),n=f(t.value),l=()=>{r.classList.add("d-none"),a.classList.remove("d-none"),t.disabled=!1},i=e=>(t.classList.add("is-invalid"),l(),E.error(e),!1);if(r.classList.remove("d-none"),a.classList.add("d-none"),t.disabled=!0,""===t.value)return i("Youtube Url is required!");if(void 0===n.id)return i(n.message);{if(document.querySelector(`.${CSS.escape(n.id)}`))return i("Video already added!");let o=g("div",{class:n.id,"data-id":n.id});o.appendChild(b("videos[${video.id}][id]",n.id)),o.appendChild(b("videos[${video.id}][thumbnail][default]",n.thumbnail.default)),o.appendChild(b("videos[${video.id}][thumbnail][hq]",n.thumbnail.hq)),o.appendChild(b("videos[${video.id}][thumbnail][mq]",n.thumbnail.mq)),o.appendChild(b("videos[${video.id}][thumbnail][sd]",n.thumbnail.sd)),o.appendChild(b("videos[${video.id}][thumbnail][maxres]",n.thumbnail.maxres)),o.appendChild(b("videos[${video.id}][url]",n.url)),o.appendChild(b("videos[${video.id}][embed]",n.embed)),o.appendChild(b("videos[${video.id}][created_at]",Date.now()));let s=g("div",{class:"btn-delete-container w-100 text-end p-1"},[g("span",{class:"btn btn-danger btn-remove-video","data-id":n.id},[g("i",{class:"ti ti-trash"})])]);o.appendChild(s);let d=g("div",{class:"avatar avatar-xxxl p-2 btn-playback cursor-pointer text-white","data-id":n.id,"data-url":n.url,"data-embed":n.embed,style:`background-image: url(${n.thumbnail.sd}); height: 120px;`},[g("i",{class:"ti ti-brand-youtube fs-32"})]);o.appendChild(d);let c=document.querySelector(".video-list-container");c.prepend(o),t.value="",t.classList.remove("is-invalid"),l()}}})},t=()=>{document.addEventListener("click",function(e){if(e.target.closest(".btn-playback")){let t=e.target.closest(".btn-playback"),r=t.dataset.embed,a=t.dataset.id;q.create({id:a,size:"fullscreen",callback:function(){return g("div",{class:"row justify-content-center"},[g("div",{class:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12"},[g("iframe",{class:"w-100",height:"560",src:r,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture;",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""}),g("div",{class:"text-center"},[g("span",{class:"btn mt-3","data-bs-dismiss":"modal"},[g("i",{class:"ti ti-x me-1"}),document.createTextNode(" Close")])])])])},status:"info",destroyable:!0});let n=document.getElementById(a);n.querySelector(".modal-content").style.backgroundColor="rgba(0, 0, 0, 1)"}})},r=()=>{document.addEventListener("click",function(e){if(e.target.closest(".btn-remove-video")){let t=e.target.closest(".btn-remove-video"),r=t.dataset.id,a=document.querySelector(`.${CSS.escape(r)}`);a&&a.remove()}})},a=()=>{let e=document.getElementById("videoInput");if(!e)return!1;let t=g("div",{class:"d-flex gap-1"},[g("div",{class:"form-floating flex-fill"},[g("input",{type:"text",id:"youtubeUrl",class:"form-control",placeholder:"","aria-label":"Youtube Url","aria-describedby":"basic-addon1"}),g("label",{for:"youtubeUrl"},[g("i",{class:"ti ti-brand-youtube"}),document.createTextNode(" Paste Youtube Url")])]),g("span",{class:"btn btn-primary btn-add-video"},[g("span",{class:"spinner-border spinner-border-sm d-none",role:"status","aria-hidden":"true"}),g("span",{class:"btn-text fs-18"},[g("i",{class:"ti ti-plus me-1"}),document.createTextNode(" Add Video")])])]);e.appendChild(t)};return{_initAfterLoad(){a()},_initBeforeLoad(){e(),r(),t()}}}(),L=function(){let e=(e,r={})=>{let a=document.querySelector(e);if(null==a)return;if("object"!=typeof tinyMCE)throw Error(`tinymce script is not inlcuded in head. ${t}/vendor/tinymce/tinymce.min.js`);let n={selector:"textarea"+e,height:500,menubar:!1,plugins:["advlist lists link anchor","media table paste code"],toolbar:"",content_css:["https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i",t+"/css/global.style.css"]},l={...n,...r};tinyMCE.remove(),tinyMCE.init(l)};return{init:e}}(),x=function(){let e=e=>{if(window.TomSelect)new TomSelect(document.querySelector(e),{copyClassesToDropdown:!1,dropdownParent:"body",controlInput:"<input>",render:{item:function(e,t){return e.customProperties?g("div",{},[g("span",{class:"dropdown-item-indicator"},[document.createTextNode(e.customProperties)]),document.createTextNode(t(e.text))]):g("div",{},[document.createTextNode(t(e.text))])},option:function(e,t){return e.customProperties?g("div",{},[g("span",{class:"dropdown-item-indicator"},[document.createTextNode(e.customProperties)]),document.createTextNode(t(e.text))]):g("div",{},[document.createTextNode(t(e.text))])}}});else throw Error(`TomSelect script is not inlcuded in head. ${t}/vendor/tom-select/tom-select.min.js`)};return{init:e}}(),E=function(){let e=(e,t)=>{let r=document.querySelector(t);if(!r){let a=document.createElement("div");a.classList.add("response"),document.body.prepend(a)}document.querySelector(t).innerHTML=e},t=(t,r="success",a=".response")=>{let n=`message alert alert-${r} alert-dismissible show`,l=g("div",{class:n,role:"alert"},[g("span",{},[document.createTextNode(t)]),g("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]);e(l.outerHTML,a)},r=(e,r=".response")=>t(e,"success",r),a=(e,r=".response")=>t(e,"danger",r),n=(t="Processing, Please wait...",r=".response")=>{let a=g("div",{class:"bg-white p-3 mt-3 rounded border"},[g("div",{class:"d-flex gap-3 align-items-center"},[g("div",{class:"loader"}),g("p",{class:"mb-0"},[document.createTextNode(t)])])]);e(a.outerHTML,r)},l=(t,r=".response")=>{e(t,r)};return{success:r,error:a,loader:n,message:l}}(),T=function(){let e=(e=".btn")=>{let t=document.querySelectorAll(e);t.forEach(e=>{e.style.cursor="wait",e.style.pointerEvents="none",e.style.opacity=.5,e.disabled=!0})},t=(e=".btn")=>{let t=document.querySelectorAll(e);t.forEach(e=>{e.style.cursor="pointer",e.style.pointerEvents="auto",e.style.opacity=1,e.disabled=!1})};return{disable:e,enable:t}}(),k=(e,{validation:r,callback:i,onBeforeSend:o,redirectUrl:s}={})=>{e=e.replace("#",""),document.addEventListener("submit",function(t){console.log(t.target.id),t.target.id===e&&t.preventDefault()});let d=e=>{let t=[];return!!e&&(Object.keys(e).forEach(r=>{t.push(e[r])}),t.join(", "))},c=document.getElementById(e);if(!c){console.error(`Form with ID '${e}' not found!`);return}let u=new FormData(c);return u.append("csrf_token",n),o&&o(u),y(c.getAttribute("action"),u,{beforeSend(){if(E.loader(),"object"==typeof r){if("undefined"!=typeof validate){let e=d(validate(p(u),r));if(e)return E.error(e),!1}else console.log("validate.js is not included in the head. Include it from "+t+"/js/vendor/validatejs-0.13.1/validate.min.js or https://validatejs.org/#validatejs-download")}T.disable()},onSuccess(e){try{let t="object"==typeof e?e:JSON.parse(e);E.message(t.message),1===t.status&&(i&&i(p(u),t),s&&(E.loader("Please wait while you are redirecting..."),setTimeout(()=>{l(s)},10)))}catch(r){i&&(E.message(""),i(p(u),e),1==a()&&console.log(r)),s&&(E.loader("Please wait while you are redirecting..."),setTimeout(()=>{l(s)},10))}},onComplete(){T.enable()}})},q=function(){let e=({id:e,size:t,callback:r,status:a=!1,destroyable:n=!0}={})=>{let l=g("div",{class:`modal ${n?"modal-destroyable":""}`,id:e,"aria-labelledby":"modal","aria-hidden":"true"},[g("div",{class:`modal-dialog modal-${t}`},[g("div",{class:"modal-content"},[...a?[g("div",{class:`modal-status bg-${a}`})]:[],g("div",{class:"modal-body"},[g("span",{class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"}),g("div",{class:"response-modal"},[...r?(()=>{let e=r();if("string"==typeof e){let t=document.createElement("div");t.innerHTML=e;let a=Array.from(t.childNodes);return 1===a.length?[a[0]]:a}return e instanceof Element?[e]:(console.warn("Callback should return either a string or an Element"),[])})():[]])])])])]);document.body.appendChild(l),new bootstrap.Modal(document.getElementById(e),{keyboard:!1}).show(document.getElementById(e))},t=()=>{document.addEventListener("click",function(e){if(e.target.classList.contains("btn-close")){let t=e.target.closest(".modal");if(t){let r=bootstrap.Modal.getInstance(t);r?r.hide():console.error("Modal element not associated with a Bootstrap Modal instance.")}}})},r=()=>{document.addEventListener("hidden.bs.modal",function(e){let t=document.getElementById(e.target.id);t&&t.classList.contains("modal-destroyable")&&t.remove()})};return{_initAfterLoad(){r(),t()},create:e}}(),C={create:q.create},B=function(){let t=({uploadContainerSelector:e,url:t,inputId:n="browseFile",uploadType:l="image",accept:i="image/*",multiple:o=!0,success:u=!1,error:m=!1})=>{if("image"!==l&&"document"!==l)throw Error('Invalid upload type. Must be "image" or "document"');let p=e||".upload-container",f=n;"document"==l?(i="application/pdf",s()):d(),r(p),a(t,f,i,o,p),c(p,f,u,m)},r=e=>{let t=document.querySelector(e);t||(t=g("div",{class:"upload-container"}),document.body.prepend(t),e=".upload-container");let r=g("span",{class:"btn btn-dark btn-browse"},[g("i",{class:"ti ti-upload me-2"}),document.createTextNode(" Upload")]);t.innerHTML="",t.appendChild(r)},a=(e,t,r,a,n)=>{let l=g("div",{class:n.replace(".","")},[g("form",{id:"uploadForm_"+t,class:"d-none",action:e,method:"POST",enctype:"multipart/form-data"},[g("center",{},[g("input",{type:"file",id:t,accept:r,name:a?`${t}[]`:t,...a?{multiple:!0}:{value:""}})])])]);document.body.prepend(l)},l=(t,r="images-container")=>{let a=document.querySelector(r);if(!a){console.log(`Container with selector '${r}' not found.`);return}let n=g("div",{class:`${t.id} image_${t.id} me-2 mb-3 flex-grow-1`},[b(`upload[${t.id}][image_id]`,t.id),b(`upload[${t.id}][height]`,t.height),b(`upload[${t.id}][width]`,t.width),b(`upload[${t.id}][filename]`,t.filename),b(`upload[${t.id}][url]`,t.final_url),g("div",{},[g("span",{class:"avatar avatar-xxxl",style:`background-image: url('${t.temp_url}')`})]),g("div",{class:"btn-list mt-2 text-center"},[g("span",{class:"btn btn-md btn-outline-secondary btn-remove-image",title:"Remove image","data-container":t.id,"data-filename":t.filename,"data-url":`${e}/properties/images/${t.id}/delete`},[g("i",{class:"ti ti-trash"})]),g("span",{class:"btn btn-md btn-outline-primary btn-set-thumbnail",title:"Set image as thumbnail","data-container":t.id,"data-final-url":t.final_url},[g("i",{class:"ti ti-click me-2"}),document.createTextNode(" Thumbnail")])]),...2==t.status?[g("div",{class:"alert alert-danger alert-dismissible"},[g("i",{class:"ti ti-alert-triangle me-2","aria-hidden":"true"}),g("span",{class:"p-0 m-0"},[document.createTextNode(t.message)]),g("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert"})])]:[]]);a?a.prepend(n):console.error("Container element not found.")},i=(e,t=".photo-preview")=>{let r=t.replace(".",""),a=document.querySelector(r);if(!a){console.error(`Element with selector '${t}' not found.`);return}if(1==e.status){a.style.backgroundImage=`url(${e.temp_url})`,E.message("");let n=document.getElementById("photo");n?n.value=e.final_url:console.error("Element with ID 'photo' not found.")}else E.message(e.message);let l=document.querySelector(`${t} .btn-browse`);l?l.style.display="block":console.error(`Element with selector '${t} .btn-browse' not found.`)},o=(e,t=".files-container")=>{let r=document.querySelector(t);if(!r){console.error(`Container with selector '${t}' not found.`);return}let a=g("div",{class:"flex-grow-1"},[b(`documents[${e.id}][id]`,e.id),b(`documents[${e.id}][filename]`,e.filename),b(`documents[${e.id}][size]`,e.size),b(`documents[${e.id}][finalUrl]`,e.final_url),g("div",{class:"d-flex p-y align-items-center"},[g("span",{class:"avatar me-2"},[g("i",{class:"ti ti-pdf fs-18"})]),g("div",{class:"flex-fill"},[g("div",{class:"font-weight-medium"},[g("input",{type:"text",name:`documents[${e.id}][alias]`,value:e.alias,class:"border-0 w-100"})]),g("div",{class:"text-secondary small"},[document.createTextNode(e.size)])])])]),n;n=2==e.status?g("div",{class:"alert alert-danger alert-dismissible",id:e.id},[g("i",{class:"ti ti-alert-triangle me-2","aria-hidden":"true"}),g("span",{class:"p-0 m-0"},[document.createTextNode(e.message)]),g("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert"})]):g("li",{class:`list-group-item d-flex gap-3 justify-content-between align-items-center py-3 file_${e.id}`},[a]),r.prepend(n)},s=()=>{document.addEventListener("click",function(e){if(e.target.closest(".btn-remove-document")){let t=e.target.closest(".btn-remove-document"),r=t.dataset.id,a=t.dataset.remove_url;v(a,{onSuccess:function(e){2==e.status&&E.error(e.message);let t=document.querySelector(`.file_${r}`);t?t.remove():console.error(`File element with class 'file_${r}' not found.`)}})}})},d=()=>{document.addEventListener("click",function(e){if(e.target.closest(".btn-set-thumbnail")){let t=e.target.closest(".btn-set-thumbnail"),r=t.dataset.finalUrl,a=document.querySelectorAll(".btn-set-thumbnail");a.forEach(e=>{e.classList.remove("btn-success"),e.classList.add("btn-outline-primary"),e.innerHTML="<i class='ti ti-click me-2'></i> Thumbnail"}),t.classList.add("btn-success"),t.classList.remove("btn-outline-primary"),t.innerHTML="<i class='ti ti-check me-2'></i> Thumbnail";let l=document.getElementById("thumb_img");l?l.value=r:console.error("Element with ID 'thumb_img' not found.")}else if(e.target.closest(".btn-remove-image")){let i=e.target.closest(".btn-remove-image"),o=i.dataset.container,s=i.dataset.filename,d=i.dataset.url;y(d,{csrf_token:n,filename:s},{onSuccess:function(e){if(1==e.status){let t=document.querySelector(o);t?t.remove():console.error(`Element with selector '${o}' not found.`)}E.message(e.message),console.log(e)}})}})},c=(e,t,r,a)=>{document.addEventListener("click",function(r){if(r.target.closest(`${e} .btn-browse`)){let a=document.querySelector(`${e} #${t}`);a?a.click():console.error(`Input element with selector '${e} #${t}' not found.`)}}),document.addEventListener("change",function(l){if(l.target.matches(`${e} #${t}`)){let i=document.querySelector(`${e} #uploadForm_${t}`);if(!i){console.error(`Form element with selector '${e} #uploadForm_${t}' not found.`);return}let o=new FormData(i);o.append("csrf_token",n);let s=document.querySelector(`${e} #uploadForm_${t}`);if(!s){console.error(`Form element with selector '${e} #uploadForm_${t}' not found.`);return}let d=s.action;y(d,o,{processData:!1,contentType:!1,beforeSend(){E.loader("Please wait while you are uploading..."),T.disable()},onSuccess(e){if(E.message(""),T.enable(),2==e.status){E.error(e.message);return}if(r)return r(e)},onError(e){if(a)return a(e)}});let c=document.querySelector(`${e} #${t}`);c?c.value="":console.error(`Input element with selector '${e} #${t}' not found.`)}})};return{create:t,setMultipleImageUploadContainer:l,setSingleUploadContainer:i,setMultipleFileUploadContainer:o,initFileUploaderEvents:s,initImageUploaderEvents:d}}(),A=function(){let e=({containerId:e,data:t=null,options:r={}}={})=>{let a=document.getElementById(e);if(null==a)return!1;function n(){if(null===t)throw Error("Set the data in table property");let e=t(new google.visualization.DataTable),n=new google.charts.Bar(a);n.draw(e,google.charts.Bar.convertOptions(r))}return google.charts.load("current",{packages:["bar"]}),google.charts.setOnLoadCallback(n),n},t=({containerId:e,data:t,options:r={}}={})=>{let a=document.getElementById(e);if(null==a)return!1;function n(){if(null===t)throw Error("Set the data in table property");let e=t(new google.visualization.DataTable),n=new google.visualization.Calendar(a);n.draw(e,r)}return google.charts.load("current",{packages:["calendar"]}),google.charts.setOnLoadCallback(n),n},r=({containerId:e,data:t,options:r={},apiKey:a=null}={})=>{let n=document.getElementById(e);if(null==n)return!1;function l(){if(null===t)throw Error("Set the data in table property");let e=t(new google.visualization.DataTable),l=new google.visualization.GeoChart(n);if(void 0!==r.displayMode&&"markers"==r.displayMode&&null===a)throw Error("Markers require geocoding, you'll need a ApiKey. See: https://developers.google.com/chart/interactive/docs/basic_load_libs#load-settings");l.draw(e,r)}return google.charts.load("current",{packages:["corechart"],mapsApiKey:a}),google.charts.setOnLoadCallback(l),l},a=({containerId:e,data:t,options:r={}}={})=>{let a=document.getElementById(e);if(null==a)return!1;function n(){if(null===t)throw Error("Set the data in table property");let e=t(new google.visualization.DataTable),n=new google.visualization.PieChart(a);n.draw(e,r)}return google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(n),n},n=({containerId:e,data:t,options:r={}}={})=>{let a=document.getElementById(e);if(null==a)return!1;function n(){if(null===t)throw Error("Set the data in table property");let e=t(new google.visualization.DataTable),n=new google.charts.Line(a);n.draw(e,google.charts.Line.convertOptions(r))}return google.charts.load("current",{packages:["line"]}),google.charts.setOnLoadCallback(n),n},l=({containerId:e,data:t,options:r={},apiKey:a=null}={})=>{let n=document.getElementById(e);if(null==n)return!1;function l(){if(null===t)throw Error("Set the data in table property");let e=t(new google.visualization.DataTable),l=new google.visualization.Map(n);if(null===a)throw Error("Maps require a mapsApiKey. See: https://developers.google.com/chart/interactive/docs/basic_load_libs#load-settings");l.draw(e,r)}return google.charts.load("current",{packages:["map"],mapsApiKey:a}),google.charts.setOnLoadCallback(l),l},i=({containerId:e,data:t,options:r={}}={})=>{let a=document.getElementById(e);if(null==a)return!1;function n(){if(null===t)throw Error("Set the data in table property");let e=t(new google.visualization.DataTable),n=new google.visualization.ScatterChart(a),l={trendlines:{0:{}},...r};n.draw(e,l)}return google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(n),n};return{bar:e,calendar:t,geo:r,pie:a,line:n,map:l,trendLine:i}}(),I=function(){let e=()=>{let e=document.querySelector(".mortgage-calculator-form #result");if(!e)return;let t=o();e.setAttribute("monthlyPayment",t.monthlyPayment),e.innerHTML=`&#8369;${t.formattedMonthlyPayment}`},t=()=>{document.addEventListener("change",function(t){(t.target.matches(".mortgage-calculator-form #mortgageDownpayment")||t.target.matches(".mortgage-calculator-form #mortgageInterest")||t.target.matches(".mortgage-calculator-form #mortgageYear"))&&e()})},r=()=>{let e=document.querySelector(".mortgage-calculator-form #dpSelection");if(!e)return;let t=g("select",{id:"mortgageDownpayment",class:"form-select"},[10,20,30,40,50,60,70,80,90].map(e=>g("option",{value:e,...20===e?{selected:!0}:{}},[document.createTextNode(`${e}%`)])));e.insertAdjacentElement("afterend",t),e.remove()},a=()=>{let e=document.querySelector(".mortgage-calculator-form #interestSelection");if(!e)return;let t=g("select",{id:"mortgageInterest",class:"form-select"},Array.from({length:81},(e,t)=>.25*t).map(e=>g("option",{value:e,...3.75===e?{selected:!0}:{}},[document.createTextNode(`${e}%`)])));e.insertAdjacentElement("afterend",t),e.remove()},n=()=>{let e=document.querySelector(".mortgage-calculator-form #yearSelection");if(!e)return;let t=Array.from({length:30},(e,t)=>t+1),r=g("select",{id:"mortgageYear",class:"form-select"},t.map(e=>g("option",{value:e,...3===e?{selected:!0}:{}},[document.createTextNode(`${e} Years`)])));e.insertAdjacentElement("afterend",r),e.remove()},l=({rate:e,nper:t,presentValue:r})=>{let a=Math.pow(1+e,t);return-(e/(a-1)*(r*a))},i=({loanAmount:e,interestRate:t,paymentsPerYear:r,years:a,monthlyPayment:n})=>{let l=[],i=e,o=r*a;for(let s=0;s<=o;s++){let d=i*(t/100/r),c=n-d,u=[s,c>0?c<n?c:n:0,d>0?d:0,i>0?i:0];l.push(u),i-=c}return l},o=()=>{let e=document.getElementById("sellingPrice");if(!e){console.error("Selling price element not found.");return}let t=parseInt(e.value,10),r=document.querySelector("#mortgageDownpayment option:checked");if(!r){console.error("Down payment percentage element not found.");return}let a=parseInt(r.value,10),n=t-t*(a/100),o=document.querySelector("#mortgageInterest option:checked");if(!o){console.error("Interest rate element not found.");return}let s=parseFloat(o.value),d=document.querySelector("#mortgageYear option:checked");if(!d){console.error("Loan term element not found.");return}let c=parseInt(d.value,10)+1,u=l({rate:s/100/12,nper:12*c,presentValue:-n}),m=parseFloat(u.toFixed(2)).toLocaleString(),p=i({loanAmount:n,interestRate:s,paymentsPerYear:12,years:c,monthlyPayment:u});return{monthlyPayment:u,formattedMonthlyPayment:m,schedule:p}};return{_initBeforeLoad(){t()},_initAfterLoad(){r(),a(),n(),e()}}}();return{initBeforeLoad:function(){S._initBeforeLoad(),w._initBeforeLoad(),I._initBeforeLoad()},initAfterLoad(){S._initAfterLoad(),w._initAfterLoad(),q._initAfterLoad(),I._initAfterLoad();let e;window.addEventListener("resize",function(){e&&clearTimeout(e),e=setTimeout(function(){window.dispatchEvent(new Event("resizeEnd"))},500)})},userClient:$,_CSRFToken:n,settings:r,moveHtmlElement:h,createElements:g,createHiddenInput:b,epochToTimeString:i,trim:o,formatFileSize:s,uuidv4:d,getRandomChar:c,getRandomNum:u,convertCurrency:m,serializeFormData:p,getYoutubeVideoData:f,post:y,get:v,redirect:l,submitForm:k,component:{tinymce:L,slider:_,tomSelect:x,modal:C,alert:E,button:T,uploader:B,googleChart:A}}}),document.addEventListener("DOMContentLoaded",function(){window.eo.initBeforeLoad()}),window.addEventListener("load",function(){window.eo.initAfterLoad()});